name: "XRF-Maps"
path: '/Users/aglowacki/src/XRF-Maps/bin'
exe: './xrf_maps'
args:
  - name: "Directory"
    desc: "Parent Directory to process"
    decorator: "Browse,LineEdit"
    translator: "--dir"
  - name: "Files"
    desc: "List of datasets to process. Comma separated"
    decorator: "ListBox"
    translator: "--files"
  - name: "Analysis"
    desc: "How to fit the spectra"
    decorator: "Options:roi,nnls,matrix"
    translator: "--fit"
  - name: "Detectors"
    # can also use --detector-range : <int:int> Detector range 0:3 will process 0,1,2,3 detectors
    desc: "Which detectors to fit"
    decorator: "List"
    translator: "--detectors"
  - name: "Optimize Parameters"
    desc: "Optimize the fitting parameters before per pixel fitting"
    decorator: "Options:user,matrix,without tails,tails,free energy,without tails and fit quadratic energy"
    translator: "--optimize-fit-override-params"
  - name: "Optimize Fit Routine"
    desc: "Which routine to use when optimizing fit parameters"
    decorator: "Options:general,hybrid"
    translator: "--optimize-fit-routine"
  - name: "Optimize Rois"
    desc: "Look for Regions of Interest maps, integrate those spectra in the maps and fit."
    decorator: "Checkbox"
    translator: "--optimize-rois"
  - name: "Quantification"
    desc: "Perform quantification using definition file."
    decorator: "LineEdit:maps_standardinfo.txt"
    translator: "--quantify-with"
  - name: "Quantify Fit"
    desc: "Which fitting routine to use to quantify. This is needed if you don't want to refit per pixel. If you specify --fit you don't need this."
    decorator: "Options:roi,nnls,matrix"
    translator: "--quantify-fit"
  - name: "Generate Average"
    desc: "Generate an average h5 file from all detectors that were processed."
    decorator: "Checkbox"
    translator: "--generate-avg-h5"
  - name: "Add V9 Layout"
    desc: "Add symbolic links in h5 files to make it look like v9 so IDL MAPS can open it."
    decorator: "Checkbox"
    translator: "--add-v9layout"
  - name: "Add Exchange Layout"
    desc: "Add group for exchange format. Used for tomographic datasets."
    decorator: "Checkbox"
    translator: "--add-exchange"
  - name: "Export Csv"
    desc: "Export Integrated spec, fitted, background to csv file."
    decorator: "Checkbox"
    translator: "--export-csv"
  - name: "Number of Threads"
    desc: "Number of threads to use (default is all system threads)."
    decorator: "Int"
    translator: "--nthreads"
###
#--update-theta : <theta_pv_string> Update the theta dataset value using theta_pv_string as new pv string ref.
#--update-amps <us_amp>,<ds_amp>: Updates upstream and downstream amps if they changed inbetween scans.
#--update-quant-amps <us_amp>,<ds_amp>: Updates upstream and downstream amps for quantification if they changed inbetween scans.
#--quick-and-dirty : Integrate the detector range into 1 spectra.
###